<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>F5 BIG-IP Virtual Edition on the AWS Cloud</title>
<style>

/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#34478c;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{
  border-bottom:1px solid #e7e7e9;
  padding-bottom:.5em;
  width: 230px;
}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{
  font-family: "Work Sans", "Helvetica", "Tahoma", "Geneva", "Arial", sans-serif;
  text-decoration:none;
  color:#ccc;
  display: block;
  font-size:1rem;
  line-height: 2rem;
}
#toc a:hover{color:#e6e6e6}
#toc a:active{
  text-decoration:none;
  color:#777;
}
#toctitle{
  padding-top:0;
  overflow:hidden;
  background:#283e5b;
  /* border-bottom: 4px solid #435c7c; */
  width:320px;
  height:154px;
  top:0;
  left:0;
  color: #283e5b;
}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#1c222a;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;/*! padding:1.25em 1em; */height:100%;overflow:auto;padding-right: 0px;}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{
  font-size:1.375em;
  background-repeat: no-repeat;
  background-size: 160.8px 136.483px;
  background-position: center;
  }
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:#1c222a;padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44;/*! background: #e6e6e6; */}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";color: rgb(3, 87, 21);}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}

/* -------------------------   QS CSS entries ---------------------------- */
@font-face {
  font-family: 'Amazon Ember Light';
  src        :
    local('Amazon Ember Light'),
    local('AmazonEmberLight'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_lt-019e0ec3f9b521056e66e31fdcbc8323e5cd1938._V299195751_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_lt-bc9ed0fce860a46f3cb061034280c23400e6e8b6._V299195751_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Light';
  font-weight: 700;
  src        :
    local('Amazon Ember Light'),
    local('AmazonEmberLight-Bold'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-46b91bda68161c14e554a779643ef4957431987b._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-b605252f87b8b3df5ae206596dac0938fc5888bc._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Light';
  font-style : italic;
  src        :
    local('Amazon Ember Light'),
    local('AmazonEmberLight-Italic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_ltit-96be47a559388a2b219577124589435c09a361fe._V299195751_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_ltit-b561f11b5c8be92ac17f6b713dd9d4b6e2f00c8d._V299195751_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Light';
  font-style : italic;
  font-weight: 700;
  src        :
    local('Amazon Ember Light'),
    local('AmazonEmberLight-BoldItalic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_ltit-96be47a559388a2b219577124589435c09a361fe._V299195751_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_ltit-b561f11b5c8be92ac17f6b713dd9d4b6e2f00c8d._V299195751_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Regular';
  src        :
    local('Amazon Ember Regular'),
    local('AmazonEmberRegular'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_rg-fd81bacb6a659a8c8c95828226b74594ab985060._V299195749_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_rg-0acf3bc8b64d470d8888d84741a19533394654c6._V299195749_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Regular';
  font-weight: 700;
  src        :
    local('Amazon Ember Regular'),
    local('AmazonEmberRegular-Bold'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-46b91bda68161c14e554a779643ef4957431987b._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-b605252f87b8b3df5ae206596dac0938fc5888bc._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Regular';
  font-style : italic;
  src        :
    local('Amazon Ember Regular'),
    local('AmazonEmberRegular-Italic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_rgit-af980fe9c64fc17ece72cba4e3e7fdf54babeea6._V299195748_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_rgit-4fae4842b3446774d86579b9b024858a848644e8._V299195748_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Regular';
  font-style : italic;
  font-weight: 700;
  src        :
    local('Amazon Ember Regular'),
    local('AmazonEmberRegular-BoldItalic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-80ff7aba37dd1ff5a6b90233a19e3a780a96dc2f._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-57598ce426a612be5a1d15eee08252668fca5e7a._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Medium';
  src        :
    local('Amazon Ember Medium'),
    local('AmazonEmberMedium'),
    url('https://m.media-amazon.com/images/G/01/amazonservices/fonts/amazonember_md_base-webfont._V525237381_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/amazonservices/fonts/amazonember_md_base-webfont._V525237386_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Medium';
  font-weight: 700;
  src        :
    local('Amazon Ember Medium'),
    local('AmazonEmberMedium-Bold'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-46b91bda68161c14e554a779643ef4957431987b._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-b605252f87b8b3df5ae206596dac0938fc5888bc._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Medium';
  font-style : italic;
  src        :
    local('Amazon Ember Medium'),
    local('AmazonEmberMedium-Italic'),
    url('https://m.media-amazon.com/images/G/01/agdm/fonts/amazonember/amazonember_mdit-webfont._V522331917_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/agdm/fonts/amazonember/amazonember_mdit-webfont._V522331917_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Medium';
  font-style : italic;
  font-weight: 700;
  src        :
    local('Amazon Ember Medium'),
    local('AmazonEmberMedium-BoldItalic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-80ff7aba37dd1ff5a6b90233a19e3a780a96dc2f._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-57598ce426a612be5a1d15eee08252668fca5e7a._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Heavy';
  src        :
    local('Amazon Ember Heavy'),
    local('AmazonEmberHeavy'),
    url('https://m.media-amazon.com/images/G/01/acs/fonts/amazonember_he-webfont._V278446113_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/acs/fonts/amazonember_he-webfont._V278446115_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Heavy';
  font-weight: 700;
  src        :
    local('Amazon Ember Heavy'),
    local('AmazonEmberHeavy-Bold'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-46b91bda68161c14e554a779643ef4957431987b._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-b605252f87b8b3df5ae206596dac0938fc5888bc._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Heavy';
  font-style : italic;
  src        :
    local('Amazon Ember Heavy'),
    local('AmazonEmberHeavy-Italic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-80ff7aba37dd1ff5a6b90233a19e3a780a96dc2f._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-57598ce426a612be5a1d15eee08252668fca5e7a._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Heavy';
  font-style : italic;
  font-weight: 700;
  src        :
    local('Amazon Ember Heavy'),
    local('AmazonEmberHeavy-BoldItalic'),
    url('https://m.media-amazon.com/images/G/01/agdm/fonts/amazonember/amazonember_heit-webfont._V522331917_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/agdm/fonts/amazonember/amazonember_heit-webfont._V522331917_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Thin';
  src        :
    local('Amazon Ember Thin'),
    local('AmazonEmberThin'),
    url('https://m.media-amazon.com/images/G/01/mobile-apps/devportal2/content/alexa/prize/20160810/fonts/AmazonEmber/amazonember-thin-webfont._V282715032_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/mobile-apps/devportal2/content/alexa/prize/20160810/fonts/AmazonEmber/amazonember-thin-webfont._V282715033_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Thin';
  font-weight: 700;
  src        :
    local('Amazon Ember Thin'),
    local('AmazonEmberThin-Bold'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-46b91bda68161c14e554a779643ef4957431987b._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bd-b605252f87b8b3df5ae206596dac0938fc5888bc._V2_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Thin';
  font-style : italic;
  src        :
    local('Amazon Ember Thin'),
    local('AmazonEmberThin-Italic'),
    url('https://m.media-amazon.com/images/G/01/mobile-apps/devportal2/content/alexa/prize/20160810/fonts/AmazonEmber/amazonember-thinit-webfont._V282715033_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/mobile-apps/devportal2/content/alexa/prize/20160810/fonts/AmazonEmber/amazonember-thinit-webfont._V282715032_.woff') format('woff');
}

@font-face {
  font-family: 'Amazon Ember Thin';
  font-style : italic;
  font-weight: 700;
  src        :
    local('Amazon Ember Thin'),
    local('AmazonEmberThin-BoldItalic'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-80ff7aba37dd1ff5a6b90233a19e3a780a96dc2f._V2_.woff2') format('woff2'),
    url('https://m.media-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-amazonember_bdit-57598ce426a612be5a1d15eee08252668fca5e7a._V2_.woff') format('woff');
}


.tip {
  border-top: 30px solid rgba(92, 184, 92, 0.8);
  background: #E6F9E6;
}

.note {
  border-top: 30px solid #6AB0DE;
  background: #E7F2FA;
}

.warning {
  border-top: 30px solid #F0B37E;
  background: #FFF2DB;
}

.caution {
  border-top: 30px solid rgba(217, 83, 79, 0.8);
  background: #FAE2E2;
}

.important {
  border-top: 30px solid rgba(217, 83, 79, 0.8);
  background: #FAE2E2;
}

#content {
  max-width: 100rem;
  padding-left: 5rem;
  padding-right: 5rem;
}

body {
  font-family: "Amazon Ember Regular", "Helvetica", "Tahoma", "Geneva", "Arial", sans-serif;
}

/* added */
h1,
h2,
h3,
h4,
h5,
h6 {
  margin        : 0.85rem 0 1.7rem 0;
  text-rendering: optimizeLegibility;
  color: #ec7211;
}

p {
  margin: 1rem 0;
}

/* QS Table of Contents */

#toc {
  overflow-x: hidden !important;
}

#toc>ul li {
  padding    : 0.3rem 0.6rem;
  margin-top : 0;
  line-height: 1;
}

#toc>ul li a {
  line-height: 1.6;
}

#toc a {
  /* TOC details */
  font-family  : "Amazon Ember Light", "Helvetica", "Tahoma", "Geneva", "Arial", sans-serif;
  margin-left  : -1rem;
  margin-right : -1rem;
  padding-left : 1rem;
  padding-right: 1rem;
  background   : transparent;
  box-sizing   : border-box;
  cursor       : pointer;
  font-weight  : 300 !important;
}

/* image layout */
#toc.toc2 #toctitle {
  background-image: url("images/AWS-Logo.svg");
  background-repeat: no-repeat;
  background-size: 50%;
  background-position: center;
  width: auto;
  height: 15%;
}

/* Left Navbar size */
#toc.toc2 {
  width: 17%;
  min-width: 15em;
}

/* auto width for main page */
body.toc2 {
  padding-left: 22%;
  padding-right: 2%;
}

/* hide left nav bar if page size is smaller than 767px */
@media screen and (max-width: 767px) {
  #toc {
      display: none !important;
  }
  body.toc2 {
    padding-left: 1%;
    padding-right: 1%;
    position: relative;
  }

  #content {
    padding-left: 2%;
    padding-right: 2%;
  }
}

/* QS Tables */

table.tableblock .title,
.imageblock .title {
  font-family  : "Amazon Ember Light", "Helvetica", "Tahoma", "Geneva", "Arial", sans-serif;
  font-size: 1.1rem;
  color: #34478c;
}
table p {
  margin: 0rem;
}

/* Add border around hyperlink images */
a img {
    border: 1px solid #A4A4A4;
}

.preview_mode {
	border-color:#e0e0dc;
	-webkit-box-shadow:0 1px 4px #e0e0dc;
	box-shadow:0 1px 4px #e0e0dc;
  background:#ffffb3;
  padding-bottom: 2rem;
}
.preview_mode .tableblock {
  background:#ffffb3;
}

.footer-text{color:rgba(255,255,255,.8);line-height:1.44;background:#1c222a;padding:1.25em;max-width:100%;margin-bottom:unset}
p.footer-text a{color:#d7d8d8}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_overview">Overview</a></li>
<li><a href="#_f5_big_ip_virtual_edition_on_aws">F5 BIG-IP Virtual Edition on AWS</a></li>
<li><a href="#_aws_costs">AWS costs</a></li>
<li><a href="#_software_licenses">Software licenses</a></li>
<li><a href="#_architecture">Architecture</a></li>
<li><a href="#_planning_the_deployment">Planning the deployment</a>
<ul class="sectlevel2">
<li><a href="#_specialized_knowledge">Specialized knowledge</a></li>
<li><a href="#_aws_account">AWS account</a></li>
<li><a href="#_technical_requirements">Technical requirements</a></li>
</ul>
</li>
<li><a href="#_deployment_steps">Deployment steps</a>
<ul class="sectlevel2">
<li><a href="#_sign_in_to_your_aws_account">Sign in to your AWS account</a></li>
<li><a href="#_customizing_the_big_ip_configuration">Customizing the BIG-IP configuration</a></li>
<li><a href="#_launch_into_a_new_vpc">Launch into a new VPC</a></li>
<li><a href="#_launch_into_an_existing_vpc">Launch into an existing VPC</a></li>
</ul>
</li>
<li><a href="#_accessing_the_big_ip">Accessing the BIG-IP</a>
<ul class="sectlevel2">
<li><a href="#_ssh">SSH</a></li>
<li><a href="#_webui">WebUI</a></li>
</ul>
</li>
<li><a href="#_further_exploring">Further Exploring</a>
<ul class="sectlevel2">
<li><a href="#_ssh_2">SSH</a></li>
<li><a href="#_webui_2">WebUI</a></li>
</ul>
</li>
<li><a href="#_testing_the_waf_service">Testing the WAF Service</a></li>
<li><a href="#_testing_failover">Testing Failover</a></li>
<li><a href="#_best_practices_for_using_f5_big_ip_virtual_edition_on_aws">Best practices for using F5 BIG-IP Virtual Edition on AWS</a></li>
<li><a href="#_deleting_the_deployment">Deleting the Deployment</a></li>
<li><a href="#_security">Security</a></li>
<li><a href="#_other_useful_information">Other useful information</a></li>
<li><a href="#_faq">FAQ</a></li>
<li><a href="#_troubleshooting">Troubleshooting</a></li>
<li><a href="#_support">Support</a></li>
<li><a href="#_customer_responsibility">Customer responsibility</a></li>
<li><a href="#_send_us_feedback">Send us feedback</a></li>
<li><a href="#_quick_start_reference_deployments">Quick Start reference deployments</a></li>
<li><a href="#_github_repository">GitHub repository</a></li>
<li><a href="#_notices">Notices</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<h2 id="_f5_big_ip_virtual_edition_on_the_aws_cloud" class="discrete text-center">F5 BIG-IP Virtual Edition on the AWS Cloud</h2>
<h2 id="_quick_start_reference_deployment" class="discrete text-left text-center">Quick Start Reference Deployment</h2>
<div class="imageblock text-center">
<div class="content">
<img src="https://aws-quickstart.s3.amazonaws.com/quickstart-f5-big-ip-virtual-edition-ha/docs/boilerplate/.images/aws-quickstart-graphic.png" alt="QS" width="80" height="80">
</div>
</div>
<div class="paragraph text-center">
<p><strong>Oct 2021</strong><br>
<em>Alex Applebaum, Greg Crosby, Andrey Kashcheev, Nitin Khanna, Yossi Rosenboim, Michael Shimkus</em><br>
<em>N/A</em></p>
</div>
<div class="admonitionblock tip text-left">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Visit our <a href="https://github.com/aws-quickstart/quickstart-f5-big-ip-virtual-edition-ha" target="_blank" rel="noopener">GitHub repository</a> for source files and to post feedback,
report bugs, or submit feature ideas for this Quick Start.
</td>
</tr>
</table>
</div>
<div class="paragraph text-left">
<p>This Quick Start was created by F5 in collaboration with Amazon Web Services (AWS). <a href="http://aws.amazon.com/quickstart/" target="_blank" rel="noopener">Quick Starts</a> are automated reference deployments that use AWS CloudFormation templates to deploy key technologies on AWS, following AWS best practices.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<div class="title">BIG-IP VE on AWS</div>
<p>BIG-IP VE is an application delivery and security services platform that is built to ensure
speed, availability, and security for business-critical applications and networks. As an aggregation tier for your application portfolio, it can be used to standardize security, logging and telemetry policies. It enables intelligent L4-L7 traffic management, robust network and web application firewalls, simplified application access, and much more.  For more information about BIG-IP VE, see the <a href="https://www.f5.com/">F5 website</a>.</p>
</div>
<div class="paragraph">
<p>This Quick Start reference deployment guide discusses architectural considerations and configuration steps for deploying a failover cluster of F5 BIG-IP instances on the Amazon Web Services (AWS) Cloud. It also provides links for viewing and launching AWS CloudFormation templates that automate the deployment.</p>
</div>
<div class="paragraph">
<p>The guide is for IT infrastructure architects, administrators, and NetOps professionals who are planning to implement or extend their web application proxy and firewall workloads on the AWS Cloud.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Amazon may share user-deployment information with the AWS Partner that collaborated with AWS on the Quick Start.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_f5_big_ip_virtual_edition_on_aws">F5 BIG-IP Virtual Edition on AWS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This Quick Start deploys a highly available cluster of two BIG-IP VE instances provisioned with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><a href="https://www.f5.com/products/big-ip-services/local-traffic-manager">Local Traffic Manager (LTM)</a></strong> - which performs uniform resource identifier (URI)
routing, Secure Sockets Layer (SSL) encryption, TCP optimization and automatic discovery of automatically
scaled web applications</p>
</li>
<li>
<p><strong><a href="https://www.f5.com/products/security/advanced-waf">Application Security Manager (ASM)</a></strong> - a best of breed web application firewall to help protect against:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Automated attacks and bots</strong> - Automated attacks and bots can overwhelm application resources.</p>
</li>
<li>
<p><strong>Credential theft</strong>  - Attacks that steal application credentials or take advantage of compromised accounts.</p>
</li>
<li>
<p><strong>Attacks on mobile clients</strong> - Bots that target browser-based and mobile clients.</p>
</li>
<li>
<p><strong>Application-layer attacks</strong> - Application-layer attacks can evade signature and reputation-based security solutions.</p>
</li>
<li>
<p><strong>Web app and API attacks</strong> - New attack surfaces and threats due to the rapid adoption of APIs.</p>
</li>
<li>
<p><strong>Targeted attack campaigns</strong> - Active attack campaigns are difficult to detect from singular attacks.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can customize this Quick Start by changing the configuration parameters. The Quick
Start deploys either a full working stack (network, bastion host and BIG-IP solution) or just the BIG-IP solution into an existing network that you can inspect and use as a reference.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_aws_costs">AWS costs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You are responsible for the cost of the AWS services and any third-party licenses used while running this Quick Start. There is no additional cost for
using the Quick Start.</p>
</div>
<div class="paragraph">
<p>The AWS CloudFormation templates for Quick Starts include
configuration parameters that you can customize. Some of the settings,
such as the instance type, affect the cost of deployment. For cost estimates,
see the pricing pages for each AWS service you use. Prices are subject to change.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
After you deploy the Quick Start, create <a href="https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/billing-reports-gettingstarted-turnonreports.html" target="_blank" rel="noopener">AWS Cost and Usage Reports</a> to deliver billing metrics to an Amazon Simple Storage Service (Amazon S3) bucket in your account. These reports provide cost estimates based on usage throughout each month and aggregate the data at the end of the month. For more information, see <a href="https://docs.aws.amazon.com/cur/latest/userguide/what-is-cur.html" target="_blank" rel="noopener">What are AWS Cost and Usage Reports?</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_software_licenses">Software licenses</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Quick Start requires a subscription to the Amazon Machine Image (AMI) for F5 BIG-IP Virtual Edition, which is available from <a href="https://aws.amazon.com/marketplace/">AWS Marketplace</a>.</p>
</div>
<div class="paragraph">
<p>By default, this Quick Start deploys <a href="https://aws.amazon.com/marketplace/pp/prodview-v2lgyijcawiti">F5 BIG-IP Virtual Edition - BEST (PAYG, 25Mbps)</a> instances.</p>
</div>
<div class="paragraph">
<p>If you would like to deploy other types of BIG-IP instances, accept the terms for the desired offering and obtain the AMI ID for that offering. For example, to get the list of BIG-IP AMI IDs in us-east-1.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">aws ec2 describe-images --filters 'Name=name,Values=*BIGIP*' --query 'Images[*].[ImageId,Name]' --region us-east-1</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can pass the desired AMI ID to the template&#8217;s <strong>bigIpImageId</strong> parameter.</p>
</div>
<div class="paragraph">
<p>If deploying to production, you may want to leverage Bring Your Own License (BYOL) instances, for example <a href="https://aws.amazon.com/marketplace/pp/prodview-73utu5c5sfyyc">F5 BIG-IP VE - ALL (BYOL, 2 Boot Locations)</a>, and will also need registration keys. If you do not have a registration keys, keys can be obtained via F5&#8217;s <a href="https://www.f5.com/trials/big-ip-virtual-edition">website</a>. Additional pricing, terms, and conditions may apply. For instructions on customizing the deployment to use a BYOL image, see <a href="#_customizing_the_big_ip_configuration">Customizing the BIG-IP Configuraiton</a> in the deployment section.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_architecture">Architecture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deploying this Quick Start for a new virtual private cloud (VPC) with
<strong>default parameters</strong> builds the following <em>F5 BIG-IP Virtual Edition</em> environment in the
AWS Cloud.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/architecture_diagram.gif" alt="image" width="648" height="439">
</div>
</div>
<div class="paragraph">
<p>Figure 1: Quick Start architecture for <em>F5 BIG-IP Virtual Edition</em> on AWS</p>
</div>
<div class="paragraph">
<p>As shown in Figure 1, the Quick Start sets up the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A highly available architecture that spans two Availability Zones.*</p>
</li>
<li>
<p>A VPC configured with public and private subnets, according to AWS
best practices, to provide you with your own virtual network on AWS.*</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the public subnets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Managed network address translation (NAT) gateways to allow outbound
internet access for resources in the private subnets.*</p>
</li>
<li>
<p>A Linux bastion host in an Auto Scaling group to allow inbound Secure
Shell (SSH) access to EC2 instances in public and private subnets.*</p>
</li>
<li>
<p>The public facing NICs of a clustered pair of BIG-IP instances</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the private subnets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The management NICs of a clustered pair of BIG-IP instances (an out-of-band management network)</p>
</li>
<li>
<p>An example application</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additional Cloud Resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An IAM Role and Instance Profile</p>
</li>
<li>
<p>An S3 Bucket used to provide Failover State.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The template that deploys the Quick Start into an existing VPC skips
the components marked by asterisks and prompts you for your existing VPC
configuration.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_planning_the_deployment">Planning the deployment</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_specialized_knowledge">Specialized knowledge</h3>
<div class="paragraph">
<p>This deployment requires a moderate level of familiarity with
AWS services. If youre new to AWS, see <a href="https://aws.amazon.com/getting-started/" target="_blank" rel="noopener">Getting Started Resource Center</a>
and <a href="https://aws.amazon.com/training/" target="_blank" rel="noopener">AWS Training and Certification</a>. These sites provide materials for learning how to design,
deploy, and operate your infrastructure and applications on the AWS Cloud.</p>
</div>
<div class="paragraph">
<p>This deployment requires a moderate level of familiarity with F5 BIG-IP concepts. If youre new to F5 BIG-IP, F5 recommends first visiting:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://f5.com">f5.com</a></p>
</li>
<li>
<p><a href="https://www.f5.com/services/certification">F5 Certification</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This Quick Start assumes familiarity with basic concepts in the areas of</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AWS networking (vpcs, subnets, routes, security groups)</p>
</li>
<li>
<p>AWS services (S3, IAM roles).</p>
</li>
<li>
<p>BIG-IP concepts (application proxies, network and web application firewalls)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_aws_account">AWS account</h3>
<div class="paragraph">
<p>If you dont already have an AWS account, create one at <a href="https://aws.amazon.com/" target="_blank" rel="noopener">https://aws.amazon.com</a> by following the on-screen instructions. Part of the sign-up process involves receiving a phone call and entering a PIN using the phone keypad.</p>
</div>
<div class="paragraph">
<p>Your AWS account is automatically signed up for all AWS services. You are charged only for the services you use.</p>
</div>
</div>
<div class="sect2">
<h3 id="_technical_requirements">Technical requirements</h3>
<div class="paragraph">
<p>Before you launch the Quick Start, review the following information and ensure that your account is properly configured. Otherwise, deployment might fail.</p>
</div>
<div class="sect3">
<h4 id="_resource_quotas">Resource quotas</h4>
<div class="paragraph">
<p>If necessary, request <a href="https://console.aws.amazon.com/servicequotas/home?region=us-east-2#!/" target="_blank" rel="noopener">service quota increases</a> for the following resources. You might need to request increases if your existing deployment currently uses these resources and if this Quick Start deployment could result in exceeding the default quotas. The <a href="https://console.aws.amazon.com/servicequotas/home?region=us-east-2#!/" target="_blank" rel="noopener">Service Quotas console</a> displays your usage and quotas for some aspects of some services. For more information, see <a href="https://docs.aws.amazon.com/servicequotas/latest/userguide/intro.html" target="_blank" rel="noopener">What is Service Quotas?</a> and <a href="https://docs.aws.amazon.com/general/latest/gr/aws_service_limits.html" target="_blank" rel="noopener">AWS service quotas</a>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This deployment uses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VPCs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security Groups</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS Identity and Access Management (IAM) Role</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Elastic IP addresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 to 6 <em>(see breakdown below)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ec2 instances</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 to 5 <em>(see breakdown below)</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 buckets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<div class="title">Instance Breakdown</div>
<ul>
<li>
<p>New Network</p>
<div class="ulist">
<ul>
<li>
<p>1 Bastion Host</p>
</li>
</ul>
</div>
</li>
<li>
<p>Workload</p>
<div class="ulist">
<ul>
<li>
<p>2 BIG-IPs</p>
</li>
<li>
<p>2 Example Applications (OPTIONAL)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">EIP Breakdown</div>
<ul>
<li>
<p>New Network</p>
<div class="ulist">
<ul>
<li>
<p>2 for NAT Gateways</p>
</li>
<li>
<p>1 for Bastion Host</p>
</li>
</ul>
</div>
</li>
<li>
<p>Workload</p>
<div class="ulist">
<ul>
<li>
<p>2 for BIG-IPs (Unique Self-Ips)</p>
</li>
<li>
<p>1 for the Example BIG-IP Virtual Service (OPTIONAL)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
By default, this solution requires more than the default EIP resources allowed on an account so you will most likely need to increase your service limits per above.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_supported_aws_regions">Supported AWS Regions</h4>
<div class="paragraph">
<p>For any Quick Start to work in a Region other than its default Region, all the services it deploys must be supported in that Region. You can launch a Quick Start in any Region and see if it works. If you get an error such as Unrecognized resource type, the Quick Start is not supported in that Region.</p>
</div>
<div class="paragraph">
<p>For an up-to-date list of AWS Regions and the AWS services they support, see <a href="https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/" target="_blank" rel="noopener">AWS Regional Services</a>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Certain Regions are available on an opt-in basis. For more information, see <a href="https://docs.aws.amazon.com/general/latest/gr/rande-manage.html" target="_blank" rel="noopener">Managing AWS Regions</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_iam_permissions">IAM permissions</h4>
<div class="paragraph">
<p>Before launching the Quick Start, you must sign in to the AWS Management Console with IAM permissions for the resources that the templates deploy. The <em>AdministratorAccess</em> managed policy within IAM provides sufficient permissions, although your organization may choose to use a custom policy with more restrictions. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_job-functions.html" target="_blank" rel="noopener">AWS managed policies for job functions</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_deployment_options">Deployment options</h4>
<div class="paragraph">
<p>This Quick Start provides two deployment options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Deploy F5 BIG-IP Virtual Edition into a new VPC (end-to-end deployment)</strong>. This option builds a new AWS environment consisting of the VPC, subnets, NAT gateways, security groups, bastion hosts, and other infrastructure components. It then deploys F5 BIG-IP Virtual Edition into this new VPC.</p>
</li>
<li>
<p><strong>Deploy F5 BIG-IP Virtual Edition into an existing VPC</strong>. This option provisions F5 BIG-IP Virtual Edition in your existing AWS infrastructure.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Quick Start provides separate templates for these options. It also lets you configure Classless Inter-Domain Routing (CIDR) blocks, instance types, and F5 BIG-IP Virtual Edition settings, as discussed later in this guide.</p>
</div>
</div>
<div class="sect3">
<h4 id="_prepare_your_aws_account">Prepare your AWS account</h4>
<div class="paragraph">
<p>This solution <strong>requires</strong> you to have:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An <strong>SSH Key</strong> pair in AWS for management access to BIG-IP VE. For more information about creating and/or importing the key pair in AWS, see AWS SSH key <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html">documentation</a>.</p>
</li>
<li>
<p>An <strong>AWS secret</strong> stored in AWS <a href="https://aws.amazon.com/secrets-manager/">Secrets Manager</a> containing the password used to access and cluster the HA Pair. For example, to create a secret using the AWS CLI:</p>
<div class="literalblock">
<div class="content">
<pre>aws secretsmanager create-secret --region us-east-1 --name bigIpPassword --secret-string 'YOUR_BIGIP_PASSWORD'</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><em>NOTE:</em></p>
<div class="ulist">
<ul>
<li>
<p>By default, the secret name must be <code>bigIpPassword</code> and created in the region where deploying the template. Otherwise, see <a href="#_customizing_the_big_ip_configuration">Customizing the BIG-IP Configuration</a> for more details.</p>
</li>
<li>
<p>Obtain the secret ARN. The ARN format required for the input parameter will look like <em>arn:aws:secretsmanager:us-east-1:111111111111:secret:bigIpPassword-xdg0kdf</em> You will pass this value to the <strong>secretArn</strong> input parameter.</p>
</li>
<li>
<p>In the example above, the <strong>--secret-string</strong> value is in single quotes to avoid bash special character interpolation. See the AWS CLI secretsmanager <a href="https://docs.aws.amazon.com/cli/latest/reference/secretsmanager/index.html#cli-aws-secretsmanager">documentation</a> for a more secure example using a file.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Accepted the EULA for the F5 image in the AWS marketplace. If you have not deployed BIG-IP VE in your environment before, search for F5 in the Marketplace and then click <strong>Accept Software Terms</strong>. This only appears the first time you attempt to launch an F5 image. See <a href="#_software_licenses">Licensing</a> section above.</p>
</li>
<li>
<p>The appropriate permission in AWS to launch CloudFormation Templates (CFT). You must be using an IAM user with the Administrator Access policy attached and have permission to create the objects contained in this solution (VPCs, Routes, EIPs, EC2 Instances, etc.). For details on permissions and all AWS configuration, see AWS <a href="https://aws.amazon.com/documentation/">documentation</a>.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Important Configuration Notes</div>
<ul>
<li>
<p>This solution template provides an <strong>initial</strong> deployment only for an "infrastructure" use case (meaning that it does not support managing the entire deployment exclusively via the template&#8217;s "Update-Stack" function). This solution leverages cloud-init to send the instance <strong>user_data</strong>, which is only used to provide an initial BIG-IP configuration and not as the primary configuration API for a long-running platform. Although "Update-Stack" can be used to update some cloud resources, as the BIG-IP configuration needs to align with the cloud resources, like IPs to NICs, updating one without the other can result in inconsistent states, while updating other resources, like the <strong>bigIpImageId</strong> or <strong>bigIpInstanceType</strong>, can trigger an entire instance re-deloyment. For instance, to upgrade software versions, traditional in-place upgrades and config management are required. See <a href="#_best_practices_for_using_f5_big_ip_virtual_edition_on_aws">Best Practices</a> and <a href="#_support">Support</a> sections for more information.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deployment_steps">Deployment steps</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_sign_in_to_your_aws_account">Sign in to your AWS account</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sign in to your AWS account at <a href="https://aws.amazon.com" class="bare">https://aws.amazon.com</a> with an IAM user role that has the necessary permissions. For details, see <a href="#_planning_the_deployment">Planning the deployment</a> earlier in this guide.</p>
</li>
<li>
<p>Make sure that your AWS account is configured correctly, as discussed in the <a href="#_technical_requirements">Technical requirements</a> section.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_customizing_the_big_ip_configuration">Customizing the BIG-IP configuration</h3>
<div class="paragraph">
<p>Before deploying, you first need to confirm or customize the desired BIG-IP Configuration. The initial BIG-IP configurations are passed through the <a href="https://github.com/f5networks/f5-bigip-runtime-init">F5 BIG-IP Runtime Init</a> config files. As the potential amount of customization for the BIG-IP configuration is so large, these are the primary mechanisms to customize the initial BIG-IP configurations for your deployment. Customizing the BIG-IP configurations generally involves updating AND rehosting these files and passing their location through the <strong>bigIpRuntimeInitConfig</strong> template parameters.</p>
</div>
<div class="paragraph">
<p>By default, per the diagram above, this solution deploys a minimal 2NIC PAYG configuration into the default Quickstart network topology using the following configuration files in the
<code>/declarations</code> folder in this repository:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>runtime-init-conf-2nic-payg-instance01.yaml</code></p>
</li>
<li>
<p><code>runtime-init-conf-2nic-payg-instance02.yaml</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This deploys a minimal baseline HA failover cluster <strong>without</strong> any virtual services provisioned.</p>
</div>
<div class="paragraph">
<p>Optionally, to illustrate how services work, you can deploy an <em>example</em> waf protected web service ( which will deploy web application instances and a waf protected virtual service on the BIG-IPs). To do this, set <strong>provisionExampleApp</strong> parameter to <strong>true</strong> and reference the following configuration files via <strong>bigIpRuntimeInitConfig</strong> parameters instead.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>runtime-init-conf-2nic-payg-instance01-with-app.yaml</code></p>
</li>
<li>
<p><code>runtime-init-conf-2nic-payg-instance02-with-app.yaml</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any further customizations require <strong>updating</strong> AND <strong>rehosting</strong> your configuration files at a <strong>custom</strong> URL.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<strong>IMPORTANT</strong> If hosting on git, any URLs pointing to git <strong>must</strong> use the raw file format
(for example, <code>raw.githubusercontent.com</code>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The BIG-IP configurations must match the external environment in which they are deployed. Although the provided Runtime-Init config examples extract and templatize many common values, some values are still harcoded and need to be updated to match your specific environment or deployment first.</p>
</div>
<div class="sect3">
<h4 id="_common_example_customization_1">Common Example Customization 1</h4>
<div class="paragraph">
<p>For example, to deploy a <strong>Bring Your Own License (BYOL)</strong> instance:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Edit/modify the Declarative Onboarding (DO) declaration in a
corresponding example <code>byol</code> runtime-init config file with the new <code>regKey</code>
value.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Example snippet:</p>
</div>
<div class="paragraph">
<p>From:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">...
          My_License:
            class: License
            licenseType: regKey
            regKey: REPLACE_WITH_VALID_REGKEY
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>To:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">...
          My_License:
            class: License
            licenseType: regKey
            regKey: AAAAA-BBBBB-CCCCC-DDDDD-EEEEEEE
...</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Publish/host the customized runtime-init config file at a location
reachable by the BIG-IP at deploy time (for example: git, S3, etc.).</p>
</li>
<li>
<p>Update the <strong>bigIpRuntimeInitConfig</strong> input parameters to reference the
new URLs of the updated configurations.</p>
</li>
<li>
<p>Update the <strong>bigIpImageId</strong> input parameter to a valid byol image ID.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br></p>
</div>
</div>
<div class="sect3">
<h4 id="_common_example_customization_2">Common Example Customization 2</h4>
<div class="paragraph">
<p>For example, if you would like to change hostnames, disable usage reporting to F5, ntp / dns servers, etc. :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Edit/modify the Declarative Onboarding (DO) declaration in a
corresponding example runtime-init configs file with your new
values.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Example snippet:</p>
</div>
<div class="paragraph">
<p>From:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">...
          My_System:
            autoPhonehome: true
            class: System
            hostname: "failover01.local"
...
          failoverGroup:
            class: DeviceGroup
            type: sync-failover
            members:
              - failover01.local
              - failover02.local
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>To:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">...
          My_System:
            autoPhonehome: false
            class: System
            hostname: "bigip-cluster-01-a.yourcompany.com"
...
          failoverGroup:
            class: DeviceGroup
            type: sync-failover
            members:
              - bigip-cluster-01-a.yourcompany.com
              - bigip-cluster-01-b.yourcompany.com
...</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Publish/host the customized runtime-init config files at a location
reachable by the BIG-IP at deploy time (for example: git, S3, etc.).</p>
</li>
<li>
<p>Update the <strong>bigIpRuntimeInitConfig</strong> input parameters to reference the
new URLs of the updated configurations.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><br>
<br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For additional information and examples, see <a href="https://github.com/f5networks/f5-bigip-runtime-init">F5 BIG-IP
Runtime Init</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><br>
<br></p>
</div>
<div class="paragraph">
<p>+
In the following tables, parameters are listed by category and described separately for the deployment options. When you finish reviewing and customizing the parameters, choose <strong>Next</strong>.</p>
</div>
<div class="paragraph">
<p>+
NOTE: Unless you are customizing the Quick Start templates for your own deployment projects, keep the default settings for the parameters <strong>Quick Start S3 bucket name</strong>, <strong>Quick Start S3 bucket Region</strong>, and <strong>Quick Start S3 key prefix</strong>. Changing these settings automatically updates code references to point to a new Quick Start location. For more information, see the <a href="https://aws-quickstart.github.io/option1.html" target="_blank" rel="noopener">AWS Quick Start Contributors Guide</a>.</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_launch_into_a_new_vpc">Launch into a new VPC</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Deployment Configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unique string value which gets append to cloud resources names
(<code>uniqueString</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>myUniqStr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique String used when creating object names or Tags.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Network Configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VPC CIDR
(<code>vpcCIDR</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.0.0/16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for the VPC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Availability Zones
(<code>availabilityZones</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of Availability Zones to use for the subnets in the VPC. Note: The logical order is preserved and only 2 AZs are used for this deployment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for public subnet 1 in AZ1
(<code>publicSubnet1CIDR</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.10.0/24</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for the public DMZ subnet 1 located in Availability Zone 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static self IP address for public subnet 1 in AZ1.
(<code>publicSubnet1SelfAddress</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.10.11</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. Type the static external self IP address here.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for private subnet 1 in AZ1
(<code>privateSubnet1ACIDR</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.11.0/24</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for private subnet 1 located in Availability Zone 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static self IP address for private subnet 1 in AZ1.
(<code>privateSubnet1ASelfAddress</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.11.11</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. Type the static self IP address here.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for private subnet 1 in AZ2
(<code>privateSubnet1BCIDR</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.12.0/24</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for private subnet 1 located in Availability Zone 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for public subnet 2 in AZ2
(<code>publicSubnet2CIDR</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.20.0/24</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for the public DMZ subnet 2 located in Availability Zone 2.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static self IP address for public subnet 2 in AZ1.
(<code>publicSubnet2SelfAddress</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.20.11</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. Type the static external self IP address here.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for private subnet 2 in AZ1
(<code>privateSubnet2ACIDR</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.21.0/24</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for private subnet 2 located in Availability Zone 2.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static self IP address for private subnet 2 in AZ1.
(<code>privateSubnet2ASelfAddress</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.21.11</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. Type the static self IP address here.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for private subnet 2 in AZ2
(<code>privateSubnet2BCIDR</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.22.0/24</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIDR block for private subnet 2 located in Availability Zone 2.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provision public IP addresses for the BIG-IP management network interfaces.
(<code>provisionPublicIpMgmt</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Choose True to provision public IP addresses for the BIG-IP management network interfaces. By default, no public IP addresses are provisioned.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Amazon EC2 Configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EC2 KeyPair to enable SSH access to EC2 instances
(<code>keyPairName</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EC2 KeyPair to enable SSH access to EC2 instances which include BIG-IP, Bastion, and demo application instances.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restricted source address to bastion
(<code>remoteAccessCIDR</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allowed CIDR block for external SSH access to the bastions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restricted source address to BIG-IP management
(<code>restrictedSrcAddressMgmt</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REQUIRED - The IP address range used to SSH and access BIG-IP management port. Restrict to your client IP. Ex. X.X.X.X/32. WARNING - For eval purposes only. Production should never have Management interface exposed to Internet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restricted source address to application
(<code>restrictedSrcAddressApp</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REQUIRED - The IP address range that can be used to access web traffic (80/443) to the EC2 instances.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. BIG-IP Configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS instance type
(<code>bigIpInstanceType</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>m5.2xlarge</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS instance type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Image Id
(<code>bigIpImageId</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Blank string</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you would like to deploy using a custom BIG-IP image, provide the AMI Id.  <strong>Note</strong>: Unless specifically required, leave the default of <strong>OPTIONAL</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIG-IP performance type
(<code>bigIpImageName</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Best</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">F5 BIG-IP Performance Type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIG-IP VE throughput (PAYG)
(<code>bigIpThroughput</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1000Mbps</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum amount of throughput for BIG-IP VE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIG-IP Runtime Init config for first BIG-IP instance
(<code>bigIpRuntimeInitConfig01</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://f5-cft.s3.amazonaws.com/quickstarts-v2/declarations/runtime-init-conf-2nic-payg_instance01.yaml" class="bare">https://f5-cft.s3.amazonaws.com/quickstarts-v2/declarations/runtime-init-conf-2nic-payg_instance01.yaml</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supply a URL to the bigip-runtime-init configuration file in YAML or JSON format, or an escaped JSON string to use for f5-bigip-runtime-init configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIG-IP Runtime Init config for second BIG-IP instance
(<code>bigIpRuntimeInitConfig02</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://f5-cft.s3.amazonaws.com/quickstarts-v2/declarations/runtime-init-conf-2nic-payg_instance02.yaml" class="bare">https://f5-cft.s3.amazonaws.com/quickstarts-v2/declarations/runtime-init-conf-2nic-payg_instance02.yaml</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supply a URL to the bigip-runtime-init configuration file in YAML or JSON format, or an escaped JSON string to use for f5-bigip-runtime-init configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIG-IP Runtime Init Package URL to install a specific version.
(<code>bigIpRuntimeInitPackageUrl</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://cdn.f5.com/product/cloudsolutions/f5-bigip-runtime-init/v1.4.2/dist/f5-bigip-runtime-init-1.4.2-1.gz.run" class="bare">https://cdn.f5.com/product/cloudsolutions/f5-bigip-runtime-init/v1.4.2/dist/f5-bigip-runtime-init-1.4.2-1.gz.run</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supply a URL for the F5 BIG-IP Runtime Init Package install script.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 bucket used as BIG-IP storage for failover solution
(<code>cfeS3Bucket</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aws-quickstart-cfe</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 bucket used as BIG-IP storage for Failover solution.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deployment tag value used for cloud failover
(<code>cfeTag</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aws_quickstart</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cloud Failover deployment tag value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VIP tag value used for cloud failover
(<code>cfeVipTag</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.20.101,10.0.10.101</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cloud Failover VIP tag value; provides private ip addresses to be assigned to VIP public ip.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ARN of Secrets Manager secret
(<code>secretArn</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Blank string</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ARN of Secrets Manager secret</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Resources Tags</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application
(<code>application</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f5app</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the Application Tag.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cost Center
(<code>cost</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f5cost</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cost Center Tag.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Environment
(<code>environment</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f5env</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Environment Tag.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Group
(<code>group</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f5group</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Group Tag.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Owner
(<code>owner</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f5owner</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Owner Tag</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Example Application Configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provision Example App
(<code>provisionExampleApp</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag to deploy the demo web application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application Docker image name
(<code>appDockerImageName</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f5devcentral/f5-demo-httpd:latest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application docker image name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static VIP IP address for public subnet 1 in AZ1.
(<code>publicSubnet1VipAddress</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.10.101</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. Type the static external service IP address here.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static VIP IP address for public subnet 2 in AZ1.
(<code>publicSubnet2VipAddress</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.20.101</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required. Type the static external service IP address here.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Quick Start configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 bucket where templates are located
(<code>qss3BucketName</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aws-quickstart</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 bucket name for the modules. S3 bucket name can include numbers, lowercase letters, uppercase letters, and hyphens (-). It cannot start or end with a hyphen (-).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 key prefix
(<code>qss3KeyPrefix</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quickstart-f5-big-ip-virtual-edition-ha/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 key prefix for the Quick Start assets. Quick Start key prefix can include numbers, lowercase letters, uppercase letters, hyphens (-), and forward slash (/).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_launch_into_an_existing_vpc">Launch into an existing VPC</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Deployment Configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">unique string value which gets append to cloud resources names
(<code>uniqueString</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>myUniqStr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique String used when creating object names or Tags.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Network Configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VPC ID
(<code>vpc</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VPC Id for the deployment.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>NO_LABEL</strong>
(<code>publicSubnet1ID</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public Subnet1 ID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIG-IP address for public subnet in AZ1
(<code>publicSubnet1SelfAddress</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.10.11</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public Subnet1 IP Address.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Private Subnet AZ1
(<code>privateSubnet1ID</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Private Subnet1 ID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>NO_LABEL</strong>
(<code>privateSubnet1SelfAddress</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.11.11</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Private Subnet1 IP Address.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>NO_LABEL</strong>
(<code>publicSubnet2ID</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public Subnet2 ID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIG-IP address for public subnet in AZ2
(<code>publicSubnet2SelfAddress</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.20.11</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Private Subnet2 IP Address.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Private Subnet AZ2
(<code>privateSubnet2ID</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Private Subnet2 ID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>NO_LABEL</strong>
(<code>privateSubnet2SelfAddress</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.21.11</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Private Subnet2 IP Address.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Private Subnet AZ1
(<code>privateSubnet3ID</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Private Subnet2 ID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Private Subnet AZ2
(<code>privateSubnet4ID</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Private Subnet2 ID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provision Public IP addresses for the BIG-IP management interfaces
(<code>provisionPublicIpMgmt</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Choose True to provision public IP addresses for the BIG-IP management network interfaces. By default, no public IP addresses are provisioned.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Amazon EC2 Configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EC2 KeyPair to enable SSH access to the BIG-IP instance
(<code>sshKey</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EC2 KeyPair to enable SSH access to EC2 instances which include BIG-IP, Bastion, and demo application instances.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restricted source address to BIG-IP management
(<code>restrictedSrcAddressMgmt</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REQUIRED - The IP address range used to SSH and access BIG-IP management port. Restrict to your client IP. Ex. X.X.X.X/32. WARNING - For eval purposes only. Production should never have Management interface exposed to Internet.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restricted source address to application
(<code>restrictedSrcAddressApp</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Requires input</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REQUIRED - The IP address range that can be used to access web traffic (80/443) to the EC2 instances.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. BIG-IP Configuration</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS instance type
(<code>bigIpInstanceType</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>m5.2xlarge</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AWS instance type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIGIP Image Id
(<code>bigIpImageId</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Blank string</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If you would like to deploy using a custom BIG-IP image, provide the AMI Id.  <strong>Note</strong>: Unless specifically required, leave the default of <strong>OPTIONAL</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIG-IP VE version.
(<code>bigIpVersion</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>15-1-2-009</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select version of BIG-IP you wish to deploy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">F5 BIG-IP Performance Type (PAYG)
(<code>bigIpImageName</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Best</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">F5 BIG-IP Performance Type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIG-IP VE throughput (PAYG)
(<code>bigIpThroughput</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1000Mbps</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum amount of throughput for BIG-IP VE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIG-IP Runtime Init config
(<code>bigIpRuntimeInitConfig01</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://f5-cft.s3.amazonaws.com/quickstarts-v2/declarations/runtime-init-conf-2nic-payg_instance01.yaml" class="bare">https://f5-cft.s3.amazonaws.com/quickstarts-v2/declarations/runtime-init-conf-2nic-payg_instance01.yaml</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supply a URL to the bigip-runtime-init configuration file in YAML or JSON format, or an escaped JSON string to use for f5-bigip-runtime-init configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIG-IP Runtime Init config
(<code>bigIpRuntimeInitConfig02</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://f5-cft.s3.amazonaws.com/quickstarts-v2/declarations/runtime-init-conf-2nic-payg_instance02.yaml" class="bare">https://f5-cft.s3.amazonaws.com/quickstarts-v2/declarations/runtime-init-conf-2nic-payg_instance02.yaml</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supply a URL to the bigip-runtime-init configuration file in YAML or JSON format, or an escaped JSON string to use for f5-bigip-runtime-init configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BIG-IP Runtime Init Package URL
(<code>bigIpRuntimeInitPackageUrl</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="https://cdn.f5.com/product/cloudsolutions/f5-bigip-runtime-init/v1.4.2/dist/f5-bigip-runtime-init-1.4.2-1.gz.run" class="bare">https://cdn.f5.com/product/cloudsolutions/f5-bigip-runtime-init/v1.4.2/dist/f5-bigip-runtime-init-1.4.2-1.gz.run</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supply a URL for the F5 BIG-IP Runtime Init Package install script.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CFE S3 bucket
(<code>cfeS3Bucket</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aws-quickstart-cfe</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 bucket name used by Cloud Failover Extension.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CFE VIP tag value
(<code>cfeVipTag</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.20.101,10.0.10.101</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cloud Failover VIP tag value; provides private ip addresses to be assigned to VIP public ip.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CFE Deployment tag value
(<code>cfeTag</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aws_quickstart</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cloud Failover deployment tag value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ARN of Secrets Manager secret
(<code>secretArn</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><em>Blank string</em></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ARN of Secrets Manager secret</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. Resources Tags</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application
(<code>application</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f5app</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the Application Tag</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cost Center
(<code>cost</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f5cost</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cost Center Tag.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Environment
(<code>environment</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f5env</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Environment Tag.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Group
(<code>group</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f5group</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Group Tag.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Owner
(<code>owner</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f5owner</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Owner Tag</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. Provision Example App</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provision Example App
(<code>provisionExampleApp</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag to deploy the demo web application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application docker image name
(<code>appDockerImageName</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f5devcentral/f5-demo-httpd:latest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application docker image name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>NO_LABEL</strong>
(<code>publicSubnet1VipAddress</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.10.101</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public Subnet1 External Service IP Address.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>NO_LABEL</strong>
(<code>publicSubnet2VipAddress</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10.0.20.101</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Public Subnet2 External Service IP Address.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 14. Templates Location</caption>
<colgroup>
<col style="width: 16%;">
<col style="width: 11%;">
<col style="width: 73%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter label (name)</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 bucket where Templates are Located
(<code>s3BucketName</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aws-quickstart</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 bucket name for the modules. S3 bucket name can include numbers, lowercase letters, uppercase letters, and hyphens (-). It cannot start or end with a hyphen (-).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 key prefix
(<code>s3KeyPrefix</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quickstart-f5-big-ip-virtual-edition-ha/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S3 key prefix for the Quick Start assets. Quick Start key prefix can include numbers, lowercase letters, uppercase letters, hyphens (-), and forward slash (/).</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>+
. On the <strong>Configure stack options</strong> page, you can <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html" target="_blank" rel="noopener">specify tags</a> (key-value pairs) for resources in your stack and <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-console-add-tags.html" target="_blank" rel="noopener">set advanced options</a>. When you finish, choose <strong>Next</strong>.
. On the <strong>Review</strong> page, review and confirm the template settings. Under <strong>Capabilities</strong>, select the two check boxes to acknowledge that the template creates IAM resources and might require the ability to automatically expand macros.
. Choose <strong>Create stack</strong> to deploy the stack.
. Monitor the status of the stack. When the status is <strong>CREATE_COMPLETE</strong>, the F5 BIG-IP Virtual Edition deployment is ready.
. To view the created resources, see the values displayed in the <strong>Outputs</strong> tab for the stack.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_accessing_the_big_ip">Accessing the BIG-IP</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once the Stacks are <code>CREATE_COMPLETE</code>, you can access the BIG-IPs through the Bastion Host and if you&#8217;ve provisioned the example application, optionally test the waf service:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>From Parent Template Outputs:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Console</strong>: Navigate to <strong>CloudFormation &gt; <em>STACK_NAME</em> &gt; Outputs</strong>.</p>
</li>
<li>
<p><strong>AWS CLI</strong>:</p>
<div class="listingblock">
<div class="content">
<pre>aws --region ${REGION} cloudformation describe-stacks --stack-name ${STACK_NAME}  --query  "Stacks[0].Outputs"</pre>
</div>
</div>
</li>
<li>
<p>Obtain the Private IP address of the BIG-IP Management Port:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Console</strong>: Navigate to <strong>CloudFormation &gt; <em>STACK_NAME</em> &gt; Outputs &gt;
<em>bigipInstance01MgmtPrivateIp</em></strong>.</p>
</li>
<li>
<p><strong>AWS CLI</strong>:</p>
<div class="listingblock">
<div class="content">
<pre>aws --region ${REGION} cloudformation describe-stacks --stack-name ${STACK_NAME} --query  "Stacks[0].Outputs[ OutputKey=='bigipInstance01MgmtPrivateIp'].OutputValue" --output text</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Obtain the Public IP address of the bastion host:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Console</strong>: <strong>*</strong> <strong>Console</strong>: Navigate to <strong>CloudFormation &gt; <em>STACK_NAME</em> &gt; Outputs &gt; <em>bastionHost</em></strong>.</p>
</li>
<li>
<p><strong>AWS CLI</strong>:</p>
<div class="listingblock">
<div class="content">
<pre>aws --region ${REGION} cloudformation describe-stacks --stack-name ${STACK_NAME} --query  "Stacks[0].Outputs[ OutputKey=='bastionHost'].OutputValue" --output text</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_ssh">SSH</h3>
<div class="paragraph">
<p>From your desktop client/shell, create an SSH tunnel:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ssh -i [keyname-passed-to-template.pem] -o ProxyCommand='ssh -i [keyname-passed-to-template.pem] -W %h:%p ec2-user@[BASTION-HOST-PUBLIC-IP]' admin@[BIG-IP-MGMT-PRIVATE-IP]</pre>
</div>
</div>
<div class="paragraph">
<p>Replace the variables in brackets before submitting the command.  For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ssh -i ~/.ssh/mykey.pem -o ProxyCommand=`ssh -i ~/.ssh/mykey.pem -W %h:%p ec2-user@34.82.102.190' admin@10.0.1.11</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_webui">WebUI</h3>
<div class="paragraph">
<p>Obtain the URL address of the BIG-IP Management Port.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>NOTE</em>: Multi-NIC, will use <a href="https://host" class="bare">https://host</a>. Single NIC will use
<a href="https://host:8443" class="bare">https://host:8443</a>.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>From your desktop client/shell, create an SSH tunnel through the Bastion Host:</p>
<div class="listingblock">
<div class="content">
<pre>ssh -i [keyname-passed-to-template.pem] ec2-user@[BASTION-HOST-PUBLIC-IP] -L [DESKTOP_PORT]:[BIG-IP-MGMT-PRIVATE-IP]:[BIGIP-GUI-PORT]</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ssh -i ~/.ssh/mykey.pem ec2-user@34.82.102.190 -L 8443:10.0.1.11:443</pre>
</div>
</div>
</li>
<li>
<p>You should now be able to open a browser to the BIG-IP UI from your desktop:</p>
<div class="paragraph">
<p><a href="https://localhost:8443" class="bare">https://localhost:8443</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>NOTE: By default, the BIG-IP systems WebUI starts with a self-signed
cert. Follow your browsers instructions for accepting self-signed certs
(for example, If using Firefox, click <code>Advanced</code> button, click
<code>Accept Risk and Continue</code>, if using Chrome, click inside the page and type this
<code>thisisunsafe</code>, etc.)</em></p>
</li>
<li>
<p>To Login:</p>
<div class="ulist">
<ul>
<li>
<p>username: <strong>admin</strong></p>
</li>
<li>
<p>password: <strong>YOUR_AWS_SECRET</strong></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_further_exploring">Further Exploring</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ssh_2">SSH</h3>
<div class="ulist">
<ul>
<li>
<p>From tmsh shell, type <code>bash</code> and enter to enter the bash shell.</p>
<div class="ulist">
<ul>
<li>
<p>Examine the BIG-IP configuration file downloaded:</p>
<div class="listingblock">
<div class="content">
<pre>cat /config/cloud/runtime-init.conf</pre>
</div>
</div>
</li>
<li>
<p>Examine the running BIG-IP configurations:</p>
<div class="ulist">
<ul>
<li>
<p>The BIG-IP
<a href="https://www.f5.com/pdf/products/automation-toolchain-overview.pdf">F5
Automation Toolchain</a> declarations:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">curl -su admin: http://localhost:8100/mgmt/shared/declarative-onboarding | jq .
curl -su admin: http://localhost:8100/mgmt/shared/appsvcs/declare | jq .</code></pre>
</div>
</div>
</li>
<li>
<p>The BIG-IP <a href="https://clouddocs.f5.com/products/extensions/f5-cloud-failover/latest/">Cloud
Failover Extension (CFE)</a> declaration:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">curl -su admin: http://localhost:8100/mgmt/shared/cloud-failover/declare | jq .</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_webui_2">WebUI</h3>
<div class="ulist">
<ul>
<li>
<p>If you have provisioned the example application, navigate to <strong>Virtual Services</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>From the drop down menu <strong>Partition</strong> (upper right), select Partition =
<code>Tenant_1</code>.</p>
</li>
<li>
<p>Navigate to <strong>Local Traffic &gt; Virtual Servers</strong>. You should see the
Virtual Services (one for HTTP and one for HTTPS). This should show up
as Green. Click on them to look at the configuration <em>(declared in the
AS3 declaration)</em>.</p>
</li>
<li>
<p>Navigate to <strong>Security &gt; Application Security</strong>. Click on the policy named <strong>CustomWAFPolicy</strong> to inspect.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing_the_waf_service">Testing the WAF Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have provisioned the example application, to test the WAF service, perform the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Obtain the address of the WAF service:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Console</strong>: Navigate to <strong>CloudFormation &gt; <em>STACK_NAME</em> &gt; Outputs &gt;
<em>applicationPublicIp</em></strong>.</p>
</li>
<li>
<p><strong>AWS CLI</strong>:</p>
<div class="listingblock">
<div class="content">
<pre>aws --region ${REGION}  cloudformation describe-stacks --stack-name ${STACK_NAME} --query  "Stacks[0].Outputs[?OutputKey=='applicationPublicIp'].OutputValue" --output text</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Verify the application is responding:</p>
<div class="ulist">
<ul>
<li>
<p>Paste the IP address in a browser: <code><a href="https://${IP_ADDRESS_FROM_OUTPUT}" class="bare">https://${IP_ADDRESS_FROM_OUTPUT}</a></code></p>
<div class="ulist">
<ul>
<li>
<p><em>NOTE: By default, the Virtual Service starts with a self-signed
cert. Follow your browsers instructions for accepting self-signed certs
(for example, if using Chrome, click inside the page and type this
<code>thisisunsafe''. If using Firefox, click </code>Advanced'' button, click
``Accept Risk and Continue'', etc.).</em></p>
</li>
</ul>
</div>
</li>
<li>
<p>Use curl:</p>
<div class="listingblock">
<div class="content">
<pre>curl -sko /dev/null -w '%{response_code}\n' https://${IP_ADDRESS_FROM_OUTPUT}</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Verify the WAF is configured to block illegal requests:</p>
<div class="listingblock">
<div class="content">
<pre>curl -sk -X DELETE https://${IP_ADDRESS_FROM_OUTPUT}</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The response should include a message that the request was blocked,
and a reference support ID. Example:</p>
<div class="listingblock">
<div class="content">
<pre>$ curl -sko /dev/null -w '%{response_code}\n' https://55.55.55.55
200
$ curl -sk -X DELETE https://55.55.55.55
&lt;html&gt;&lt;head&gt;&lt;title&gt;Request Rejected&lt;/title&gt;&lt;/head&gt;&lt;body&gt;The requested URL was rejected.
Please consult with your administrator.&lt;br&gt;&lt;br&gt;Your support ID is:
2394594827598561347&lt;br&gt;&lt;br&gt;&lt;a href='javascript:history.back();'&gt;[Go Back]&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing_failover">Testing Failover</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have deployed the example application, to test failover, perform the following steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log on the BIG-IPs per instructions above:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Console</strong>: Go to Device Management of Active Instance &#8594; Traffic-Groups &#8594; Select box next to <strong>traffic-group-1</strong> &#8594; Click the "Force to Standby" button *.</p>
</li>
<li>
<p><strong>BIG-IP CLI</strong>:</p>
<div class="listingblock">
<div class="content">
<pre>tmsh run sys failover standby</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Verify the EIP associated w/ the Virtual Service (applicationPublicIp) is remapped to the peer BIG-IP (ex. from 10.0.10.11 in AZ1 to 10.0.20.11 in AZ2).</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Verify the application is responding:</p>
<div class="ulist">
<ul>
<li>
<p>Paste the IP address in a browser: <code><a href="https://${IP_ADDRESS_FROM_OUTPUT}" class="bare">https://${IP_ADDRESS_FROM_OUTPUT}</a></code></p>
<div class="ulist">
<ul>
<li>
<p><em>NOTE: By default, the Virtual Service starts with a self-signed
cert. Follow your browsers instructions for accepting self-signed certs
(for example, if using Chrome, click inside the page and type this
<code>thisisunsafe''. If using Firefox, click </code>Advanced'' button, click
``Accept Risk and Continue'', etc.).</em></p>
</li>
</ul>
</div>
</li>
<li>
<p>Use curl:</p>
<div class="listingblock">
<div class="content">
<pre>curl -sko /dev/null -w '%{response_code}\n' https://${IP_ADDRESS_FROM_OUTPUT}</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Verify the WAF is configured to block illegal requests:</p>
<div class="listingblock">
<div class="content">
<pre>curl -sk -X DELETE https://${IP_ADDRESS_FROM_OUTPUT}</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>NOTE: In this specific example, traffic is Source Address Translated and from the Example Application&#8217;s perspective, the "Client" is the BIG-IP&#8217;s addresses. The real client IP is passed via the <code>x-forwarded-for:</code> header. Observe how the "Client IP" changes from one BIG-IP in one AZ to the other.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_best_practices_for_using_f5_big_ip_virtual_edition_on_aws">Best practices for using F5 BIG-IP Virtual Edition on AWS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For illustration purposes, this solution provides an option to pre-provision additional cloud resources (IP addresses)
needed for an example virtual service. However, in practice, this solution is only designed to facilitate the initial deployment as cloud-init runs once and is typically used for
initial provisioning, not as the primary configuration API for a
long-running platform. More typically in an infrastructure use case,
virtual services are added post initial deployment, outside the lifecycle of this Cloudformation Template and involves:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong><em>Cloud</em></strong> - Provisioning additional IPs on the desired Network Interfaces.</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/MultipleIP.html#ManageMultipleIP">Assigning a Private IP</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-allocating">Allocating a Public IP</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-associating">Associating a Public IP</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><em>BIG-IP</em></strong> - Creating Virtual Services that match those
additional Secondary IPs.</p>
<div class="ulist">
<ul>
<li>
<p>Updating the <a href="https://clouddocs.f5.com/products/extensions/f5-appsvcs-extension/latest/userguide/composing-a-declaration.html">AS3</a> declaration with additional Virtual Services.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>NOTE: For cloud resources, templates can be created or customized to pre-provision
and update addtional resources (for example, various combinations of
NICs, IPs, Public IPs, etc). Please see the <a href="#_support">Support Section</a>
for more information. For the BIG-IP configurations, you can leverage any
REST or Automation Tool Chain clients like
<a href="https://ansible.github.io/workshops/exercises/ansible_f5/3.0-as3-intro/">Ansible</a>, <a href="https://registry.terraform.io/providers/F5Networks/bigip/latest/docs/resources/bigip_as3">Terraform</a>,
etc.</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deleting_the_deployment">Deleting the Deployment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As Cloudformation does not delete S3 buckets that contain data, in order to delete this deployment, you will first need to manually empty and/or delete the S3 bucket created for the Cloud Failover Extension (provided via <strong>cfeS3Bucket</strong> parameter). Go to <strong>AWS Management Console &#8594; S3</strong> and search for <strong>cfeS3Bucket</strong> bucket name, click the radio button associated with it and then click the "Empty" button.</p>
</div>
<div class="paragraph">
<p>You can now delete the deployment. Go to <strong>AWS Management Console &#8594; Cloudformation &#8594; Stacks</strong> and select the radio button associated with the Parent Stack and then click the "Empty" button.</p>
</div>
<div class="paragraph">
<p>For more information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html" target="_blank" rel="noopener">Troubleshooting AWS CloudFormation</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_security">Security</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This solution requires Internet Access for:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Downloading additional F5 software components used for onboarding and
configuring the BIG-IP (via GitHub.com). Internet access is required via
the management interface and then via a dataplane interface (for
example, external Self-IP) once a default route is configured. See
<a href="https://support.f5.com/csp/article/K13284">Overview of Mgmt Routing</a> for
more details. By default, as a convenience, this solution provisions
Public IPs to enable this but in a production environment, outbound
access should be provided by a <code>routed</code> SNAT service (for example, NAT
Gateway, custom firewall, etc). <em>NOTE: access via web proxy is not
currently supported. Other options include 1) hosting the file locally
and modifying the runtime-init package url and configuration files to
point to local URLs instead or 2) baking them into a custom image, using
the <a href="https://clouddocs.f5.com/cloud/public/v1/ve-image-gen_index.html">F5
Image Generation Tool</a>.</em></p>
</li>
<li>
<p>Contacting native cloud services (for example, s3.amazonaws.com,
ec2.amazonaws.com, etc.) for various cloud integrations: **
<em>Onboarding</em>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/f5networks/f5-bigip-runtime-init">F5 BIG-IP Runtime
Init</a> - to fetch secrets from native vault services ** <em>Operation</em>:</p>
</li>
<li>
<p><a href="https://clouddocs.f5.com/products/extensions/f5-appsvcs-extension/latest/">F5
Application Services 3</a> - for features like Service Discovery</p>
</li>
<li>
<p><a href="https://clouddocs.f5.com/products/extensions/f5-telemetry-streaming/latest/">F5
Telemetry Streaming</a> - for logging and reporting</p>
</li>
<li>
<p><a href="https://clouddocs.f5.com/products/extensions/f5-cloud-failover/latest/">Cloud
Failover Extension (CFE)</a> - for updating IP and route mappings</p>
</li>
<li>
<p>Additional cloud services like
<a href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints.html">VPC
endpoints</a> can be used to address calls to native services traversing
the Internet. ** See <a href="#_security">Security</a> section for more details.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This CloudFormation template downloads helper code to configure the
BIG-IP system:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>f5-bigip-runtime-init.gz.run: The self-extracting installer for the F5
BIG-IP Runtime Init RPM can be verified against a SHA256 checksum
provided as a release asset on the F5 BIG-IP Runtime Init public GitHub
repository, for example:
<a href="https://github.com/F5Networks/f5-bigip-runtime-init/releases/download/1.4.2/f5-bigip-runtime-init-1.4.2-1.gz.run.sha256" class="bare">https://github.com/F5Networks/f5-bigip-runtime-init/releases/download/1.4.2/f5-bigip-runtime-init-1.4.2-1.gz.run.sha256</a>.</p>
</li>
<li>
<p>F5 BIG-IP Runtime Init: The self-extracting installer script extracts,
verifies, and installs the F5 BIG-IP Runtime Init RPM package. Package
files are signed by F5 and automatically verified using GPG.</p>
</li>
<li>
<p>F5 Automation Toolchain components: F5 BIG-IP Runtime Init downloads,
installs, and configures the F5 Automation Toolchain components.
Although it is optional, F5 recommends adding the extensionHash field to
each extension install operation in the configuration file. The presence
of this field triggers verification of the downloaded component package
checksum against the provided value. The checksum values are published
as release assets on each extensions public GitHub repository, for
example:
<a href="https://github.com/F5Networks/f5-appsvcs-extension/releases/download/v3.30.0/f5-appsvcs-3.30.0-5.noarch.rpm.sha256" class="bare">https://github.com/F5Networks/f5-appsvcs-extension/releases/download/v3.30.0/f5-appsvcs-3.30.0-5.noarch.rpm.sha256</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following configuration file will verify the Declarative Onboarding
and Application Services extensions before configuring AS3 from a local
file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">runtime_parameters: []
extension_packages:
    install_operations:
        - extensionType: do
          extensionVersion: 1.23.0
          extensionHash: bfe88c7cf3fdb24adc4070590c27488e203351fc808d57ae6bbb79b615d66d27
        - extensionType: as3
          extensionVersion: 3.30.0
          extensionHash: 47cc7bb6962caf356716e7596448336302d1d977715b6147a74a142dc43b391b
extension_services:
    service_operations:
      - extensionType: as3
        type: url
        value: file:///examples/declarations/as3.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>More information about F5 BIG-IP Runtime Init and additional examples
can be found in the
<a href="https://github.com/F5Networks/f5-bigip-runtime-init/blob/main/README.md">GitHub
repository</a>.</p>
</div>
<div class="paragraph">
<p>This template can send non-identifiable statistical information to F5 Networks to help us improve our templates. You can disable this functionality by setting the <strong>autoPhonehome</strong> system class property value to false in the F5 Declarative Onboarding declaration. See Customizing the BIG-IP Configuration section for additional information.</p>
</div>
<div class="paragraph">
<p>List of endpoints BIG-IP may contact during onboarding:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>BIG-IP image default:</p>
<div class="ulist">
<ul>
<li>
<p>vector2.brightcloud.com (by BIG-IP image for
<a href="https://support.f5.com/csp/article/K03011490">IPI subscription
validation</a> )</p>
</li>
</ul>
</div>
</li>
<li>
<p>Solution / Onboarding:</p>
<div class="ulist">
<ul>
<li>
<p>github.com (for downloading helper packages mentioned above)</p>
</li>
<li>
<p>f5-cft.s3.amazonaws.com (downloading GPG Key and other helper configuration files)</p>
</li>
<li>
<p>license.f5.com (licensing functions)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Telemetry:</p>
<div class="ulist">
<ul>
<li>
<p>product-s.apis.f5.com.</p>
</li>
<li>
<p>f5-prod-webdev-prod.apigee.net.</p>
</li>
<li>
<p>id-prod-global-endpoint.trafficmanager.net.</p>
</li>
<li>
<p>global.azure-devices-provisioning.net.</p>
</li>
<li>
<p>www-google-analytics.l.google.com</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_useful_information">Other useful information</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Reference Links:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.f5.com/">F5 website</a>.</p>
</li>
<li>
<p><a href="https://aws.amazon.com/marketplace/pp/prodview-v2lgyijcawiti">F5 BIG-IP Virtual Edition - BEST (PAYG, 25Mbps)</a></p>
</li>
<li>
<p><a href="https://aws.amazon.com/marketplace/pp/prodview-73utu5c5sfyyc">F5 BIG-IP VE - ALL (BYOL, 2 Boot Locations)</a></p>
</li>
<li>
<p><a href="https://www.f5.com/products/big-ip-services/local-traffic-manager">Local Traffic Manager (LTM)</a></p>
</li>
<li>
<p><a href="https://www.f5.com/products/security/advanced-waf">Application Security Manager (ASM)</a></p>
</li>
<li>
<p><a href="https://aws.amazon.com/marketplace/pp/prodview-cs4qijwjf3ijs">F5 Advanced WAF with LTM, IPI, and Threat Campaigns (PAYG, 25Mbps)</a></p>
</li>
<li>
<p><a href="https://github.com/f5networks/f5-bigip-runtime-init">F5 BIG-IP Runtime Init</a> - to fetch secrets from cloud vault services</p>
</li>
<li>
<p><a href="https://clouddocs.f5.com/products/extensions/f5-cloud-failover/latest/">F5 Cloud Failover Extension (CFE)</a> &#8594; for updating cloud resources (IP and route mappings)</p>
</li>
<li>
<p><a href="https://www.f5.com/pdf/products/automation-toolchain-overview.pdf"> F5 Automation Tool Chain</a></p>
<div class="ulist">
<ul>
<li>
<p><a href="https://clouddocs.f5.com/products/extensions/f5-declarative-onboarding/latest/">F5 Declarative Onboarding (DO)</a> &#8594; for system onboarding</p>
</li>
<li>
<p><a href="https://clouddocs.f5.com/products/extensions/f5-appsvcs-extension/latest/">F5 Application Services 3 (AS3)</a> &#8594; declarative virtual service definitions</p>
</li>
<li>
<p><a href="https://clouddocs.f5.com/products/extensions/f5-telemetry-streaming/latest/">F5 Telemetry Streaming (TS)</a> &#8594; for logging and reporting (not deployed by default in this solution )</p>
</li>
<li>
<p><a href="https://github.com/f5devcentral/f5-demo-httpd">Example Application (nginx)</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_faq">FAQ</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Q.</strong> I encountered a <strong>CREATE_FAILED</strong> error when I launched the Quick Start.</p>
</div>
<div class="paragraph">
<p><strong>A.</strong> If AWS CloudFormation fails to create the stack, we recommend that you relaunch the template with <strong>Rollback on failure</strong> set to <strong>No</strong>. (This setting is under <strong>Advanced</strong> in the AWS CloudFormation console, <strong>Options</strong> page.) With this setting, the stacks state is retained and the instance is left running, so you can troubleshoot the issue. (For Windows, look at the log files in %ProgramFiles%\Amazon\EC2ConfigService and C:\cfn\log.)</p>
</div>
<div class="paragraph">
<p><strong>Important:</strong> When you set <strong>Rollback on failure</strong> to <strong>No</strong>, you continue to incur AWS charges for this stack. Please make sure to delete the stack when you finish troubleshooting.</p>
</div>
<div class="paragraph">
<p>For additional information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html">Troubleshooting AWS CloudFormation</a> on the AWS website.</p>
</div>
<div class="paragraph">
<p><strong>Q.</strong> I encountered a size limitation error when I deployed the AWS CloudFormation templates.</p>
</div>
<div class="paragraph">
<p><strong>A.</strong> We recommend that you launch the Quick Start templates from the links in this guide or from another S3 bucket. If you deploy the templates from a local copy on your computer or from a location other than an S3 bucket, you might encounter template size limitations. For more information about AWS CloudFormation quotas, see the <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cloudformation-limits.html">AWS documentation</a>.</p>
</div>
<div class="paragraph">
<p><strong>Q.</strong> Is this solution IPv6 compatiable?</p>
</div>
<div class="paragraph">
<p><strong>A.</strong> This specific solution does not support IPv6 deployments. Please see the <a href="#_support">Support Section</a>
for assistance with customization or more information.</p>
</div>
<div class="paragraph">
<p><strong>Q.</strong> Is this solution <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html">IMDSv2</a> compatiable?</p>
</div>
<div class="paragraph">
<p><strong>A.</strong> This specific solution is not fully <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html">IMDSv2</a> compatible (F5 ID 1061797) at this time. Please see the <a href="#_support">Support Section</a> for assistance with customization or more information.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_troubleshooting">Troubleshooting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are generally two classes of issues:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stack creation itself failed</p>
</li>
<li>
<p>Resource(s) within the stack failed to deploy</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In the event that a template in the stack failed, click on the name of a failed stack and then click <code>Events</code>. Check the <code>Status Reason</code> column for the failed event for details about the cause.</p>
</div>
<div class="paragraph">
<p><strong>When creating a GitHub issue for a template, please include as much information as possible from the failed CloudFormation stack events.</strong></p>
</div>
<div class="paragraph">
<p>Common deployment failure causes include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Required fields were left empty or contained incorrect values (input type mismatch, prohibited characters, etc) causing template validation failure</p>
</li>
<li>
<p>Insufficient permissions to create the deployment or resources created by a deployment (IAM roles, etc). See <a href="#_technical_requirements">Technical requirements</a>.</p>
</li>
<li>
<p>Resource limitations (exceeded limit of IP addresses or compute resources, etc). See <a href="#_technical_requirements">Technical requirements</a>.</p>
</li>
<li>
<p>AWS service issues (service health can be checked from the <a href="https://status.aws.amazon.com/">AWS Service Health Dashboard</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If all stacks were created "successfully" but maybe the BIG-IP or Service is not reachable, then log in to the BIG-IP instance via SSH to confirm the BIG-IP deployment or desired configuration was successful (for example, if startup scripts completed as expected on the BIG-IP). To verify BIG-IP deployment, perform the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Obtain the IP address of the BIG-IP instance. See instructions for <a href="#_accessing_the_big_ip">Accessing the BIG-IP</a>.</p>
</li>
<li>
<p>Check startup-script to make sure was installed/interpolated correctly:</p>
<div class="ulist">
<ul>
<li>
<p><code><code>cat /opt/cloud/instance/user-data.txt</code></code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Check the logs (in order of invocation):</p>
<div class="ulist">
<ul>
<li>
<p>cloud-init Logs:</p>
<div class="ulist">
<ul>
<li>
<p><strong>/var/log/boot.log</strong></p>
</li>
<li>
<p><strong>/var/log/cloud-init.log</strong></p>
</li>
<li>
<p><strong>/var/log/cloud-init-output.log</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>runtime-init Logs:</p>
<div class="ulist">
<ul>
<li>
<p><strong>/var/log/cloud/startup-script.log</strong>: This file contains events that happen prior to execution of f5-bigip-runtime-init. If the files required by the deployment fail to download, for example, you will see those events logged here.</p>
</li>
<li>
<p><strong>/var/log/cloud/bigipRuntimeInit.log</strong>: This file contains events logged by the f5-bigip-runtime-init onboarding utility. If the configuration is invalid causing onboarding to fail, you will see those events logged here. If deployment is successful, you will see an event with the body "All operations completed successfully".</p>
</li>
</ul>
</div>
</li>
<li>
<p>Automation Tool Chain Logs:</p>
<div class="ulist">
<ul>
<li>
<p><strong>/var/log/restnoded/restnoded.log</strong>: This file contains events logged by the F5 Automation Toolchain components. If an Automation Toolchain declaration fails to deploy, you will see more details for those events logged here.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>GENERAL LOG TIP</strong>: Search most critical error level errors first (for example, egrep -i err /var/log/&lt;Logname&gt;).</p>
</div>
<div class="paragraph">
<p>If you are unable to login to the BIG-IP instance, you can navigate to <strong>EC2 &gt; Instances</strong>, select the check box next to the instance you want to troubleshoot, and then click <strong>Actions &gt; Monitor and Troubleshoot &gt; Get System Log</strong> or <strong>Get Instance Screenshot</strong> for potential logging to serial console.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">aws ec2 get-console-output --region ${REGION}  --instance-id &lt;ID&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_support">Support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Due to the heavy customization requirements of external cloud resources and BIG-IP configurations in these solutions, F5 does not provide technical support for deploying, customizing, or troubleshooting the templates themselves. However, the various underlying products and components used (for example: <a href="https://clouddocs.f5.com/cloud/public/v1/">F5 BIG-IP Virtual Edition</a>, <a href="https://github.com/F5Networks/f5-bigip-runtime-init">F5 BIG-IP Runtime Init</a>, <a href="https://www.f5.com/pdf/products/automation-toolchain-overview.pdf">F5 Automation Toolchain</a> extensions, and <a href="https://clouddocs.f5.com/products/extensions/f5-cloud-failover/latest/">Cloud Failover Extension (CFE)</a>) in the solutions located here are F5-Supported and capable of being deployed with other orchestration tools. Read more about <a href="https://www.f5.com/company/policies/support-policies">Support Policies</a>. Problems found with the templates deployed as-is should be reported via a GitHub issue.</p>
</div>
<div class="paragraph">
<p>For help with authoring and support for custom templates, we recommend engaging <a href="https://www.f5.com/services/professional-services">F5 Professional Services (PS)</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_customer_responsibility">Customer responsibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After you successfully deploy this Quick Start, confirm that your resources and services are updated and configured  including any required patches  to meet your security and other needs. For more information, see the <a href="https://aws.amazon.com/compliance/shared-responsibility-model/" target="_blank" rel="noopener">AWS Shared Responsibility Model</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_send_us_feedback">Send us feedback</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To post feedback, submit feature ideas, or report bugs, use the <strong>Issues</strong> section of the <a href="https://github.com/aws-quickstart/quickstart-f5-big-ip-virtual-edition-ha" target="_blank" rel="noopener">GitHub repository</a> for this Quick Start. To submit code, see the <a href="https://aws-quickstart.github.io/" target="_blank" rel="noopener">Quick Start Contributors Guide</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_quick_start_reference_deployments">Quick Start reference deployments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>See the <a href="https://aws.amazon.com/quickstart/" target="_blank" rel="noopener">AWS Quick Start home page</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_github_repository">GitHub repository</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Visit our <a href="https://github.com/aws-quickstart/quickstart-f5-big-ip-virtual-edition-ha" target="_blank" rel="noopener">GitHub repository</a> to download
the templates and scripts for this Quick Start, to post your comments,
and to share your customizations with others.</p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_notices">Notices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document is provided for informational purposes only. It represents AWSs current product offerings and practices as of the date of issue of this document, which are subject to change without notice. Customers are responsible for making their own independent assessment of the information in this document and any use of AWSs products or services, each of which is provided as is without warranty of any kind, whether expressed or implied. This document does not create any warranties, representations, contractual commitments, conditions, or assurances from AWS, its affiliates, suppliers, or licensors. The responsibilities and liabilities of AWS to its customers are controlled by AWS agreements, and this document is not part of, nor does it modify, any agreement between AWS and its customers.</p>
</div>
<div class="paragraph">
<p>The software included with this paper is licensed under the Apache License, version 2.0 (the "License"). You may not use this file except in compliance with the License. A copy of the License is located at <a href="http://aws.amazon.com/apache2.0/" target="_blank" rel="noopener">http://aws.amazon.com/apache2.0/</a> or in the accompanying "license" file. This code is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either expressed or implied. See the License for specific language governing permissions and limitations.</p>
</div>
</div>
</div>
</div>
<p class="footer-text">
<!-- We can use document attributes: -->
<!-- Generated with Asciidoctor v2.0.16. -->
<a href="https://aws.amazon.com/privacy/">Privacy</a> | <a href="https://aws.amazon.com/terms/">Site terms</a> | &copy; 2022, Amazon Web Services, Inc. or its affiliates and F5. All rights reserved.
</p>
</body>
</html>